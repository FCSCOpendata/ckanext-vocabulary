{% import 'macros/form.html' as form %}

{% extends "page.html" %}
{% block subtitle %}{{ _('Edit Category') }}{% endblock %}
{% block breadcrumb_content %}
<li class="active">{% link_for _('Categories'), named_route='vocabulary.index' %}</li>
<li class="active">{% link_for vocab.name, named_route='vocabulary.read', id=vocab.name %}</li>
<li class="active">{% link_for _('Edit'), named_route='vocabulary.edit', id=vocab.name %}</li>
{% endblock %}

{% block page_header %}
<h1 class="module-content page-header">{{ _('Edit Category') }}</h1>
{% endblock %}

{% block primary_content_inner %}
{% set flash_messages = h.flash.pop_messages() %}
    {{ h.literal(message) }}
<form method="post" data-module="basic-form">
  <div class="form-group">
    {{ form.input('vocabulary', label =_('EN NAME'), value=vocab.name)}}
  </div>
  {% if vocab.get("name_translated", False) %}
    <div class="form-group">
      <label>AR NAME</label>
      <input type="text" name="vocabulary-ar" class="form-control" dir="rtl" value="{{vocab.name_translated.ar}}">
    </div>
  {% else %}
  <div class="form-group">
    <label>AR NAME</label>
    <input type="text" name="vocabulary-ar" class="form-control" dir="rtl">
  </div>
  {% endif %}


  <div class="form-actions">
    {% block delete_button %}
    {% if h.check_access('vocabulary_delete', {'id': vocab.id}) %}
    {% set locale = h.dump_json({'content': _('Are you sure you want to delete this Category and all its Tags?')}) %}
    <a class="btn btn-danger pull-left" href="{{h.url_for('vocabulary.delete', id=vocab.id)}}"
      data-module="confirm-action" data-module-i18n="{{ locale }}">{% block delete_button_text %}{{ _('Delete') }}{%
      endblock %}</a>
    {% endif %}
    {% endblock %}
    <button type="submit" class="btn btn-primary" name="save">{{ _('save') }}</button>
  </div>
</form>
{% endblock %}
{% block secondary_content %}
  {% snippet "vocabulary/snippets/helper.html" %}
{% endblock %}